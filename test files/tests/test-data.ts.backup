/**
 * Test Data
 * 
 * Sample data for all integration test scenarios.
 * This includes realistic data for:
 * - Email notifications (stakeholder updates, sprint summaries, feature launches)
 * - Slack notifications (task completions, analysis results, approvals, errors)
 * - Confluence GTM strategies (complete and minimal)
 * - Confluence meeting notes (various meeting types)
 */

// ============================================
// EMAIL TEST DATA
// ============================================

export const stakeholderUpdateEmailData = {
  type: 'stakeholder-update',
  recipient: process.env.RESEND_FROM_EMAIL || 'test@example.com',
  subject: 'Weekly Product Update - Q4 2025',
  data: {
    projectName: 'PM Automation Platform',
    updateType: 'Weekly Progress Report',
    summary: 'Significant progress on integration modules this week. All four core integrations (Email, Slack, Confluence GTM, Confluence Meetings) are now complete and tested.',
    highlights: [
      'Completed Email automation module with 3 professional templates',
      'Implemented Slack Block Kit notifications with priority levels',
      'Built Confluence GTM strategy generator with 8-section framework',
      'Created automated meeting notes publisher for Confluence',
      'Developed comprehensive test suite with 25+ test scenarios',
    ],
    metrics: [
      { label: 'Integrations Completed', value: '4/4', trend: 'up' },
      { label: 'API Endpoints', value: '9', trend: 'up' },
      { label: 'Test Coverage', value: '95%', trend: 'stable' },
      { label: 'Code Quality', value: 'A+', trend: 'up' },
    ],
    nextSteps: [
      'Integrate with LangGraph for AI-powered workflows',
      'Deploy to production environment',
      'Set up monitoring and alerting',
      'Create user documentation',
    ],
    timeline: 'On track for HackUTD demo on November 10, 2025',
  },
};

export const sprintSummaryEmailData = {
  type: 'sprint-summary',
  recipient: process.env.RESEND_FROM_EMAIL || 'test@example.com',
  subject: 'Sprint 5 Summary - Automation Tools',
  data: {
    sprintNumber: 5,
    startDate: '2025-10-28',
    endDate: '2025-11-08',
    completedStories: 12,
    totalStoryPoints: 34,
    velocity: 34,
    completedTasks: [
      {
        id: 'HACK-101',
        title: 'Email Automation Module',
        points: 8,
        status: 'Completed',
      },
      {
        id: 'HACK-102',
        title: 'Slack Integration',
        points: 8,
        status: 'Completed',
      },
      {
        id: 'HACK-103',
        title: 'Confluence GTM Generator',
        points: 13,
        status: 'Completed',
      },
      {
        id: 'HACK-104',
        title: 'Meeting Notes Publisher',
        points: 5,
        status: 'Completed',
      },
    ],
    blockers: [],
    retrospectiveHighlights: [
      'Excellent team collaboration',
      'Clear requirements led to faster development',
      'Integration testing caught several edge cases early',
    ],
  },
};

export const featureLaunchEmailData = {
  type: 'feature-launch',
  recipient: process.env.RESEND_FROM_EMAIL || 'test@example.com',
  subject: 'New Feature Launch: PM Automation Platform',
  data: {
    featureName: 'AI-Powered PM Automation Platform',
    launchDate: '2025-11-10',
    description: 'A comprehensive automation platform that helps Product Managers streamline their workflows through intelligent email, Slack, and Confluence integrations.',
    keyFeatures: [
      'Smart email templates for stakeholder updates and sprint summaries',
      'Real-time Slack notifications with customizable priority levels',
      'Automated GTM strategy documentation in Confluence',
      'Meeting notes capture and publishing to team workspace',
    ],
    benefits: [
      'Save 10+ hours per week on manual documentation tasks',
      'Improve stakeholder communication with consistent, professional updates',
      'Reduce context switching between multiple tools',
      'Maintain comprehensive project documentation effortlessly',
    ],
    targetAudience: 'Product Managers, Team Leads, Project Coordinators',
    callToAction: 'Schedule a demo to see the platform in action',
  },
};

// ============================================
// SLACK TEST DATA
// ============================================

export const taskCompletedSlackData = {
  channel: process.env.SLACK_TEST_CHANNEL || '#test',
  notificationType: 'task_completed',
  data: {
    taskName: 'Email Integration Module',
    taskId: 'HACK-101',
    assignee: 'AutoPM Agent',
    completedBy: 'Email Automation Agent',
    completedAt: new Date().toISOString(),
    duration: '2 hours',
    summary: 'Successfully implemented email automation module with three professional templates (stakeholder update, sprint summary, feature launch).',
    details: [
      'Created type-safe email templates',
      'Integrated with Resend API',
      'Added comprehensive error handling',
      'Implemented email validation',
    ],
    priority: 'medium',
  },
};

export const analysisReadySlackData = {
  channel: process.env.SLACK_TEST_CHANNEL || '#test',
  notificationType: 'analysis_ready',
  data: {
    analysisType: 'Sprint Velocity Analysis',
    analysisId: 'ANALYSIS-2025-11-08',
    generatedBy: 'Analytics Agent',
    generatedAt: new Date().toISOString(),
    summary: 'Sprint velocity analysis for Q4 2025 is now available. Team velocity has increased 25% compared to Q3.',
    keyFindings: [
      'Average velocity: 34 story points per sprint',
      'Completion rate: 96%',
      'Bug escape rate reduced by 40%',
      'Cycle time improved from 5.2 to 3.8 days',
    ],
    dashboardUrl: 'http://localhost:3000/analytics/velocity',
    actionRequired: 'Review findings before Sprint Planning meeting',
    priority: 'high',
  },
};

export const approvalNeededSlackData = {
  channel: process.env.SLACK_TEST_CHANNEL || '#test',
  notificationType: 'approval_needed',
  data: {
    itemType: 'Feature Specification',
    itemTitle: 'AI-Powered Automated Testing Framework',
    requestedBy: 'Product Team',
    requestedAt: new Date().toISOString(),
    approvers: ['Engineering Lead', 'Product Manager', 'QA Lead'],
    deadline: '2025-11-10',
    summary: 'New feature specification requires approval before implementation can begin.',
    reviewUrl: 'http://localhost:3000/approvals/spec-123',
    priority: 'high',
  },
};

export const errorAlertSlackData = {
  channel: process.env.SLACK_TEST_CHANNEL || '#test',
  notificationType: 'error_alert',
  data: {
    errorType: 'Integration Failure',
    service: 'Confluence API',
    errorMessage: 'Failed to create page: Space not found',
    occurredAt: new Date().toISOString(),
    affectedUsers: 3,
    stackTrace: 'Error: Space not found\n  at ConfluenceService.createPage (confluence-gtm.ts:234)',
    mitigation: 'Attempting retry with exponential backoff',
    actionRequired: 'Verify Confluence space key configuration',
    priority: 'critical',
  },
};

export const priorityTestData = {
  low: {
    channel: process.env.SLACK_TEST_CHANNEL || '#test',
    notificationType: 'task_completed',
    data: {
      taskName: 'Update documentation',
      summary: 'Updated README with latest API changes',
      priority: 'low',
    },
  },
  medium: {
    channel: process.env.SLACK_TEST_CHANNEL || '#test',
    notificationType: 'task_completed',
    data: {
      taskName: 'Code review completed',
      summary: 'Reviewed and approved PR #42',
      priority: 'medium',
    },
  },
  high: {
    channel: process.env.SLACK_TEST_CHANNEL || '#test',
    notificationType: 'approval_needed',
    data: {
      itemType: 'Production Deployment',
      itemTitle: 'Release v2.0.0',
      summary: 'Production deployment requires approval',
      priority: 'high',
    },
  },
  critical: {
    channel: process.env.SLACK_TEST_CHANNEL || '#test',
    notificationType: 'error_alert',
    data: {
      errorType: 'System Outage',
      service: 'Production API',
      errorMessage: 'Service unavailable - multiple pods crashed',
      summary: 'Critical system outage affecting all users',
      priority: 'critical',
    },
  },
};

// ============================================
// CONFLUENCE GTM TEST DATA
// ============================================

export const gtmStrategyData = {
  spaceKey: process.env.CONFLUENCE_DEFAULT_SPACE || '',
  productName: 'PM Automation Platform',
  gtmData: {
    targetMarket: 'Product Managers, Team Leads, and Project Coordinators in tech companies (500,000+ potential users globally)',
    valueProposition: 'Save 10+ hours per week through intelligent automation of PM workflows. Only solution combining email, Slack, and Confluence automation with AI-powered content generation.',
    
    marketAnalysis: {
      targetMarket: 'Product Managers, Team Leads, and Project Coordinators in tech companies',
      marketSize: '$2.5B addressable market with 500,000+ potential users globally',
      competitiveLandscape: [
        'Traditional PM tools lack intelligent automation',
        'Existing solutions require significant manual configuration',
        'No comprehensive solution combines communication + documentation',
      ],
      marketTrends: [
        'Increased demand for AI-powered workflow automation',
        'Growing PM workforce (20% YoY growth)',
        'Shift toward asynchronous communication in remote teams',
      ],
    },
    
    customerSegments: [
      {
        name: 'Enterprise Product Teams',
        size: '100,000 potential users',
        characteristics: 'Large teams (10+ PMs), complex workflows, budget for premium tools',
        needs: 'Standardization, compliance, scalability',
        priority: 'High',
      },
      {
        name: 'Scale-up Startups',
        size: '200,000 potential users',
        characteristics: 'Growing teams (3-10 PMs), rapid iteration, cost-conscious',
        needs: 'Speed, flexibility, easy onboarding',
        priority: 'High',
      },
      {
        name: 'Solo PMs & Consultants',
        size: '200,000 potential users',
        characteristics: 'Individual contributors, multiple clients, time-constrained',
        needs: 'Efficiency, professional templates, simple setup',
        priority: 'Medium',
      },
    ],
    
    valueProposition: {
      coreValue: 'Save 10+ hours per week through intelligent automation of PM workflows',
      keyBenefits: [
        'Automated stakeholder communications with professional templates',
        'Real-time team updates via Slack with smart prioritization',
        'Automatic documentation in Confluence reducing manual work by 80%',
        'Consistent, high-quality outputs every time',
      ],
      competitiveDifferentiators: [
        'Only solution combining email, Slack, and Confluence automation',
        'AI-powered content generation (not just templating)',
        'Works with existing tools - no migration required',
        'Setup in minutes, not days',
      ],
    },
    
    pricingStrategy: {
      model: 'Subscription-based SaaS with tiered pricing',
      tiers: [
        {
          name: 'Starter',
          price: '$29/month per user',
          features: 'Basic email templates, Slack notifications, up to 10 Confluence pages/month',
          target: 'Solo PMs and small teams',
        },
        {
          name: 'Professional',
          price: '$79/month per user',
          features: 'All Starter features + AI content generation, unlimited Confluence pages, custom templates',
          target: 'Growing teams and scale-ups',
        },
        {
          name: 'Enterprise',
          price: 'Custom pricing',
          features: 'All Professional features + SSO, dedicated support, custom integrations, SLA',
          target: 'Large enterprises with complex needs',
        },
      ],
    },
    
    distributionChannels: [
      {
        channel: 'Product-Led Growth',
        strategy: 'Free trial with self-serve onboarding, in-app upgrade prompts',
        investment: 'High',
        expectedImpact: 'Primary customer acquisition channel',
      },
      {
        channel: 'Content Marketing',
        strategy: 'PM productivity blog, templates library, workflow guides',
        investment: 'Medium',
        expectedImpact: 'Brand awareness and organic traffic',
      },
      {
        channel: 'Partnership',
        strategy: 'Integrate with Atlassian Marketplace, Slack App Directory',
        investment: 'Medium',
        expectedImpact: 'Discovery and credibility',
      },
    ],
    
    launchPlan: {
      phases: [
        {
          phase: 'Phase 1: Private Beta',
          duration: '4 weeks',
          activities: [
            'Onboard 20 beta customers',
            'Gather feedback and iterate',
            'Build case studies',
          ],
          goals: 'Validate product-market fit, refine messaging',
        },
        {
          phase: 'Phase 2: Public Launch',
          duration: '2 weeks',
          activities: [
            'Launch on Product Hunt',
            'Press release and media outreach',
            'Content campaign across social channels',
          ],
          goals: 'Generate awareness, acquire first 500 users',
        },
        {
          phase: 'Phase 3: Growth',
          duration: 'Ongoing',
          activities: [
            'Scale content marketing',
            'Implement referral program',
            'Expand integration ecosystem',
          ],
          goals: 'Achieve 10,000 users in first year',
        },
      ],
    },
    
    successMetrics: {
      acquisition: [
        'Website visitors: 10,000/month by Month 3',
        'Trial signups: 500/month by Month 3',
        'Conversion rate: 20% trial-to-paid',
      ],
      engagement: [
        'Daily active users: 60%',
        'Features used per session: 3+',
        'Time saved per user: 10+ hours/week',
      ],
      retention: [
        'Month 1 retention: 80%',
        'Month 6 retention: 60%',
        'Annual churn rate: <20%',
      ],
      revenue: [
        'MRR: $50K by Month 6',
        'ARR: $1M by end of Year 1',
        'Average revenue per account: $150/month',
      ],
    },
  },
};

export const minimalGTMStrategyData = {
  spaceKey: process.env.CONFLUENCE_DEFAULT_SPACE || '',
  productName: 'Test Product (Minimal)',
  targetMarket: 'Test Market',
  gtmStrategy: {
    executiveSummary: 'This is a minimal test GTM strategy with only required fields populated.',
    marketAnalysis: {
      targetMarket: 'Test target market',
      marketSize: 'Unknown',
      competitiveLandscape: ['No competitors identified'],
      marketTrends: ['No trends identified'],
    },
    customerSegments: [
      {
        name: 'Test Segment',
        size: 'Unknown',
        characteristics: 'Test characteristics',
        needs: 'Test needs',
        priority: 'Low',
      },
    ],
    valueProposition: {
      coreValue: 'Test core value',
      keyBenefits: ['Test benefit 1'],
      competitiveDifferentiators: ['Test differentiator 1'],
    },
    pricingStrategy: {
      model: 'TBD',
      tiers: [],
    },
    distributionChannels: [],
    launchPlan: {
      phases: [],
    },
    successMetrics: {
      acquisition: ['TBD'],
      engagement: ['TBD'],
      retention: ['TBD'],
      revenue: ['TBD'],
    },
  },
};

// ============================================
// CONFLUENCE MEETING NOTES TEST DATA
// ============================================

export const sprintPlanningNotesData = {
  spaceKey: process.env.CONFLUENCE_DEFAULT_SPACE || '',
  meetingType: 'sprint-planning',
  meetingTitle: 'Sprint 6 Planning - Automation Tools',
  meetingDate: new Date().toISOString().split('T')[0],
  attendees: [
    'Product Manager',
    'Tech Lead',
    'Senior Engineer',
    'QA Lead',
    'UX Designer',
  ],
  meetingNotes: {
    agenda: [
      'Review Sprint 5 outcomes',
      'Discuss Sprint 6 goals',
      'Story estimation and commitment',
      'Risk identification',
    ],
    discussion: [
      {
        topic: 'Sprint 5 Review',
        points: [
          'Completed all 12 planned stories',
          'Velocity: 34 story points (above target)',
          'Zero critical bugs in production',
          'Positive stakeholder feedback on automation features',
        ],
      },
      {
        topic: 'Sprint 6 Goals',
        points: [
          'Integrate all four agents with LangGraph',
          'Deploy to production environment',
          'Implement comprehensive monitoring',
          'Create user documentation',
        ],
      },
      {
        topic: 'Story Estimation',
        points: [
          'HACK-201: LangGraph Integration - 13 points',
          'HACK-202: Production Deployment - 8 points',
          'HACK-203: Monitoring Setup - 5 points',
          'HACK-204: User Documentation - 3 points',
        ],
      },
    ],
    decisions: [
      'Commit to 29 story points for Sprint 6',
      'Deploy to staging environment by mid-sprint',
      'Schedule demo with stakeholders for end of sprint',
      'Prioritize LangGraph integration as Sprint Goal',
    ],
    actionItems: [
      {
        item: 'Set up staging environment',
        assignee: 'DevOps Team',
        dueDate: '2025-11-10',
        priority: 'High',
      },
      {
        item: 'Create LangGraph integration spec',
        assignee: 'Tech Lead',
        dueDate: '2025-11-09',
        priority: 'High',
      },
      {
        item: 'Draft user documentation outline',
        assignee: 'Product Manager',
        dueDate: '2025-11-12',
        priority: 'Medium',
      },
      {
        item: 'Configure monitoring dashboards',
        assignee: 'Senior Engineer',
        dueDate: '2025-11-15',
        priority: 'Medium',
      },
    ],
  },
};

export const stakeholderReviewNotesData = {
  spaceKey: process.env.CONFLUENCE_DEFAULT_SPACE || '',
  meetingType: 'stakeholder-review',
  meetingTitle: 'Q4 Product Review - Executive Stakeholders',
  meetingDate: new Date().toISOString().split('T')[0],
  attendees: [
    'CEO',
    'CTO',
    'VP Product',
    'VP Engineering',
    'Product Manager',
  ],
  meetingNotes: {
    agenda: [
      'Q4 Progress Review',
      'Demo: PM Automation Platform',
      'Business Metrics',
      'Q1 2026 Roadmap',
    ],
    discussion: [
      {
        topic: 'Q4 Progress',
        points: [
          'Successfully launched PM Automation Platform',
          'All four core integrations operational',
          'Positive early user feedback',
          'On schedule for full rollout',
        ],
      },
      {
        topic: 'Platform Demo',
        points: [
          'Demonstrated email automation with live templates',
          'Showed real-time Slack notifications',
          'Walked through Confluence GTM generation',
          'Presented meeting notes automation',
        ],
      },
      {
        topic: 'Business Impact',
        points: [
          'Projected time savings: 10+ hours per PM per week',
          'Potential cost savings: $500K annually across org',
          'Improved stakeholder satisfaction scores',
          'Reduced documentation debt',
        ],
      },
    ],
    decisions: [
      'Approve full rollout to all product teams',
      'Allocate budget for enterprise Slack and Confluence licenses',
      'Prioritize LangGraph AI integration for Q1 2026',
      'Schedule monthly executive reviews',
    ],
    actionItems: [
      {
        item: 'Create rollout plan for company-wide deployment',
        assignee: 'VP Product',
        dueDate: '2025-11-20',
        priority: 'High',
      },
      {
        item: 'Finalize Q1 2026 roadmap',
        assignee: 'Product Manager',
        dueDate: '2025-11-25',
        priority: 'High',
      },
      {
        item: 'Procure enterprise licenses',
        assignee: 'IT Department',
        dueDate: '2025-12-01',
        priority: 'Medium',
      },
    ],
  },
};

export const actionItemsTestData = {
  spaceKey: process.env.CONFLUENCE_DEFAULT_SPACE || '',
  meetingType: 'team-sync',
  meetingTitle: 'Weekly Team Sync - Action Items Test',
  meetingDate: new Date().toISOString().split('T')[0],
  attendees: ['Team Lead', 'Developer 1', 'Developer 2', 'QA Engineer'],
  meetingNotes: {
    agenda: ['Quick updates', 'Blockers', 'Next steps'],
    discussion: [
      {
        topic: 'Updates',
        points: ['All on track', 'No major blockers'],
      },
    ],
    decisions: ['Continue with current sprint plan'],
    actionItems: [
      {
        item: 'Fix critical bug in email module',
        assignee: 'Developer 1',
        dueDate: '2025-11-09',
        priority: 'Critical',
      },
      {
        item: 'Review PR #123',
        assignee: 'Team Lead',
        dueDate: '2025-11-09',
        priority: 'High',
      },
      {
        item: 'Update test documentation',
        assignee: 'QA Engineer',
        dueDate: '2025-11-12',
        priority: 'Medium',
      },
      {
        item: 'Refactor utility functions',
        assignee: 'Developer 2',
        dueDate: '2025-11-15',
        priority: 'Low',
      },
    ],
  },
};

// Export all test data
export default {
  email: {
    stakeholderUpdate: stakeholderUpdateEmailData,
    sprintSummary: sprintSummaryEmailData,
    featureLaunch: featureLaunchEmailData,
  },
  slack: {
    taskCompleted: taskCompletedSlackData,
    analysisReady: analysisReadySlackData,
    approvalNeeded: approvalNeededSlackData,
    errorAlert: errorAlertSlackData,
    priorities: priorityTestData,
  },
  confluence: {
    gtmStrategy: gtmStrategyData,
    minimalGTM: minimalGTMStrategyData,
    sprintPlanning: sprintPlanningNotesData,
    stakeholderReview: stakeholderReviewNotesData,
    actionItemsTest: actionItemsTestData,
  },
};
